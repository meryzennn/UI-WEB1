/* ===========================
   BRBIH â€“ Global Styles (Bootstrap 5.3)
   =========================== */
:root{
  --navbar-h: 56px;
  --sidebar-w: 240px;
  --sidebar-bg: #343a40;
  --sidebar-hover: #495057;
  --sidebar-text: #ddd;
}

*,*::before,*::after{ box-sizing:border-box; }
html,body{ width:100%; max-width:100%; overflow-x:hidden; }
img,canvas,video,svg{ max-width:100%; height:auto; display:block; }

body{
  min-height:100vh;
  padding-top:var(--navbar-h);
  background:#f8f9fa;
}
@supports (height:100dvh){ body{ min-height:100dvh; } }

/* Sidebar (optional mount) */
.sidebar{ background:var(--sidebar-bg); --bs-offcanvas-width: clamp(220px,80vw,var(--sidebar-w)); }
.sidebar-nav .nav-link{
  display:flex; align-items:center; gap:.5rem; border-radius:6px;
  padding:10px 12px; margin:4px 0; color:var(--sidebar-text); text-decoration:none;
  transition:background-color .15s ease,color .15s ease;
}
.sidebar-nav .nav-link:hover,.sidebar-nav .nav-link.active{ background:var(--sidebar-hover); color:#fff; }

@media (min-width:992px){
  .sidebar.offcanvas-lg{
    position:fixed; top:var(--navbar-h); left:0; width:var(--sidebar-w);
    height:calc(100vh - var(--navbar-h)); background:var(--sidebar-bg);
    border-right:1px solid rgba(255,255,255,.1); transform:none !important; visibility:visible !important;
  }
  @supports (height:100dvh){ .sidebar.offcanvas-lg{ height:calc(100dvh - var(--navbar-h)); } }
  .sidebar.offcanvas-lg .offcanvas-body{ display:block; overflow-y:auto; padding:.75rem; }
  .offcanvas-backdrop{ display:none !important; }
  .content{ margin-left:var(--sidebar-w); width:calc(100% - var(--sidebar-w)); max-width:calc(100vw - var(--sidebar-w)); padding:1.5rem; }
}
@media (max-width:991.98px){ .content{ margin-top:1rem; padding:1rem; } }

.navbar-brand img{ width:30px; height:30px; object-fit:cover; }

.table-responsive{ width:100%; }
.text-ellipsis{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.truncate{ display:block; max-width:100%; }

/* ===== Modal: robust scroll + sticky footer ===== */
#kendalaModal .modal-dialog,
#detailModal .modal-dialog{
  margin:1rem auto !important;
  height:calc(100vh - 2rem);
  display:flex; align-items:stretch;
}
@supports (height:100dvh){
  #kendalaModal .modal-dialog,
  #detailModal .modal-dialog{ height:calc(100dvh - 2rem); }
}
#kendalaModal .modal-content,
#detailModal .modal-content{
  display:flex; flex-direction:column; flex:1 1 auto; min-height:0;
}
#kendalaModal .modal-header,
#kendalaModal .modal-footer,
#detailModal .modal-header,
#detailModal .modal-footer{ flex-shrink:0; }
#kendalaModal .modal-footer{ position:sticky; bottom:0; z-index:1; background:var(--bs-body-bg,#fff); border-top:1px solid var(--bs-border-color,#dee2e6); }
#kendalaModal .modal-body,
#detailModal .modal-body{
  flex:1 1 auto; min-height:0; overflow-y:auto; -webkit-overflow-scrolling:touch;
  padding-bottom:calc(1rem + env(safe-area-inset-bottom,0px));
}
#kendalaModal .modal-dialog.modal-dialog-scrollable .modal-body,
#detailModal  .modal-dialog.modal-dialog-scrollable .modal-body{ max-height:none; }

/* ===== Data Kendala ===== */
#dataKendalaPage .table td, #dataKendalaPage .table th{ vertical-align:middle; }

/* Badge status */
#dataKendalaPage .badge-status{ font-weight:600; letter-spacing:.2px; }
#dataKendalaPage .badge-status.baru{ background:#dbeafe; color:#1d4ed8; }
#dataKendalaPage .badge-status.diproses{ background:#fff7ed; color:#c2410c; }
#dataKendalaPage .badge-status.selesai{ background:#dcfce7; color:#166534; }

/* Badge prioritas */
#dataKendalaPage .badge-prio{ font-weight:600; }
#dataKendalaPage .badge-prio.rendah{ background:#eef2ff; color:#3730a3; }
#dataKendalaPage .badge-prio.sedang{ background:#fef9c3; color:#854d0e; }
#dataKendalaPage .badge-prio.tinggi{ background:#fee2e2; color:#991b1b; }

/* Badge approval */
#dataKendalaPage .badge-approval{ font-weight:600; }
#dataKendalaPage .badge-approval.pending{ background:#e5e7eb; color:#111827; }
#dataKendalaPage .badge-approval.approved{ background:#dcfce7; color:#166534; }
#dataKendalaPage .badge-approval.rejected{ background:#fee2e2; color:#991b1b; }
#dataKendalaPage .approval-actions .btn{ padding:.15rem .4rem; }
#dataKendalaPage .approval-actions i{ font-size:.9rem; }

/* Label form tebal di modal */
#dataKendalaPage #kendalaModal .form-label{ font-weight:600; }

/* Tabel mobile-friendly */
@media (max-width:576px){
  #dataKendalaPage .table thead{ display:none; }
  #dataKendalaPage .table tr{ display:block; margin-bottom:.75rem; border-top:1px solid #f1f3f5; }
  #dataKendalaPage .table td{ display:flex; justify-content:space-between; gap:1rem; }
  #dataKendalaPage .table td::before{ content:attr(data-header); font-weight:600; color:#6b7280; }
  #dataKendalaPage .table td.text-end{ justify-content:flex-end; }
}

/* Print */
@media print{
  .navbar, .sidebar, .offcanvas-backdrop{ display:none !important; }
  body{ padding-top:0; background:#fff; }
  .content{ margin:0; width:100%; }
}

/* === Horizontal actions (tidak bertumpuk) === */
#dataKendalaPage td[data-header="Aksi"],
#dataKendalaPage td:last-child {
  white-space: nowrap;               /* cegah pindah baris */
}

#dataKendalaPage .row-actions,
#dataKendalaPage .approval-actions {
  display: inline-flex;
  align-items: center;
  gap: .35rem;                       /* jarak antar tombol */
  flex-wrap: nowrap;                 /* paksa satu baris */
}

#dataKendalaPage .row-actions .btn,
#dataKendalaPage .approval-actions .btn {
  padding: .2rem .5rem;              /* lebih kompak */
}

/* biar rapi di layar kecil, boleh wrap saat viewport < 576px */
@media (max-width:576px){
  #dataKendalaPage .row-actions,
  #dataKendalaPage .approval-actions { flex-wrap: wrap; }
}
